{% load static %}
<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Blog{% endblock %} - Luca Vigna</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'core/styles.css' %}">
    <meta content="{{ csrf_token }}" name="csrf-token"/>
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="logo">
                <a href="{% url 'core:home' %}">:)</a>
            </div>
            <ul class="nav-links">
                <li><a href="{% url 'core:home' %}#inicio">Inicio</a></li>
                <li><a href="{% url 'core:home' %}#sobre-mi">Sobre MÃ­</a></li>
                <li><a href="{% url 'core:home' %}#proyectos">Proyectos</a></li>
                <li><a href="{% url 'core:home' %}#contacto">Contacto</a></li>
                <li><a href="{% url 'blog:index' %}" class="{% if '/blog/' in request.path %}active-blog{% endif %}">Blog</a></li>
            </ul>
            <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™ Tema</button>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Blog Content Section -->
        <section class="blog-section" id="blog-content">
            {% block page_content %}{% endblock %}
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>Â© Es mi portafolio, tengo los derechos reservados jajaja.</p>
    </footer>

    <!-- Scripts -->
    <script src="{% static 'core/script.js' %}"></script>
    <script>
        // Enhanced theme toggle functionality
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            
            const button = document.querySelector('.theme-toggle');
            button.innerHTML = newTheme === 'dark' ? ' ðŸŒ—Tema' : ' ðŸŒ—Tema';
            
            localStorage.setItem('theme', newTheme);
        }

        // Load saved theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            const button = document.querySelector('.theme-toggle');
            button.innerHTML = savedTheme === 'dark' ? ' ðŸŒ—Tema' : 'ðŸŒ— Tema';
        });
    </script>
</body>
</html>